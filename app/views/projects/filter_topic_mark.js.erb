<%# select topicos %>

document.getElementById('topic_id').innerHTML = '';

var node = document.createElement("option");
node.setAttribute("value", "");

<% if !@topics.empty? %>
  
  <% @topics.each_with_index do |topic, index| %>
    
    <% if index == 0 %>
      var item = document.createTextNode("Selecione..");
      node.appendChild(item);
      document.getElementById("topic_id").appendChild(node);
    <%end%> 
    
    var node = document.createElement("option");
    node.setAttribute("value", <%= topic.id %>);

    var item = document.createTextNode("<%=topic.description%>");
    node.appendChild(item);
    document.getElementById("topic_id").appendChild(node);

  <% end %>

<% else %>
  var item = document.createTextNode("Selecione..");
  node.appendChild(item);
  document.getElementById("topic_id").appendChild(node);
<% end %>

<%# limpa select dos subtopicos %>
document.getElementById('sub_topic_id').innerHTML = '';

var sub_topic = document.createElement("option");
sub_topic.setAttribute("value", "");

var item = document.createTextNode("Selecione..");
sub_topic.appendChild(item);
document.getElementById("sub_topic_id").appendChild(sub_topic);

<%# select metas %>

document.getElementById('mark_id').innerHTML = '';

var node = document.createElement("option");
node.setAttribute("value", "");

<% if !@marks.empty? %>
  
  <% @marks.each_with_index do |mark, index| %>
    
    <% if index == 0 %>
      var item = document.createTextNode("Selecione..");
      node.appendChild(item);
      document.getElementById("mark_id").appendChild(node);
    <%end%> 
    
    var node = document.createElement("option");
    node.setAttribute("value", <%= mark.id %>);

    var item = document.createTextNode("<%=mark.description%>");
    node.appendChild(item);
    document.getElementById("mark_id").appendChild(node);

  <% end %>

<% else %>
  var item = document.createTextNode("Selecione..");
  node.appendChild(item);
  document.getElementById("mark_id").appendChild(node);
<% end %>